# MCP å·¥å…·å‘½ä»¤ä½¿ç”¨æŒ‡å—

å®Œæ•´çš„ Spec Workflow MCP å·¥å…·å‘½ä»¤å‚è€ƒå’Œä½¿ç”¨ç¤ºä¾‹

## ğŸ“– ä½¿ç”¨è¯´æ˜

æœ¬æŒ‡å—é€‚åˆå¸Œæœ›ç›´æ¥äº†è§£å’Œä½¿ç”¨ MCP å·¥å…·å‘½ä»¤çš„ç”¨æˆ·ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ï¼š

1. **åœ¨ Claude ä¸­ç›´æ¥æåŠå·¥å…·åç§°**ï¼š`"è¯·ä½¿ç”¨ init_project å·¥å…·åˆå§‹åŒ–é¡¹ç›®"`
2. **äº†è§£å·¥å…·å‚æ•°è¿›è¡Œç²¾ç¡®æ§åˆ¶**ï¼š`"è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•° specName ä¸º 'ç”¨æˆ·è®¤è¯'"`
3. **è°ƒè¯•å’Œé—®é¢˜æ’æŸ¥**ï¼šç›´æ¥æŒ‡å®šå·¥å…·åç§°è¿›è¡Œæµ‹è¯•

---

## Phase 1: åŸºç¡€å·¥ä½œæµç¨‹å·¥å…·

### 1. `init_project` - é¡¹ç›®åˆå§‹åŒ–

**åŠŸèƒ½**ï¼šåˆå§‹åŒ–æ–°çš„ Spec Workflow é¡¹ç›®

**å‚æ•°**ï¼š
- `projectName` (string, å¿…éœ€): é¡¹ç›®åç§°
- `description` (string, å¯é€‰): é¡¹ç›®æè¿°
- `language` (string, å¯é€‰): ç•Œé¢è¯­è¨€ï¼Œé»˜è®¤ "en"

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ init_project å·¥å…·ï¼Œå‚æ•°ï¼š
- projectName: "ç”µå•†ç³»ç»Ÿ"
- description: "åŸºäºå¾®æœåŠ¡æ¶æ„çš„ç”µå•†å¹³å°"
- language: "zh"
```

**ç­‰æ•ˆè‡ªç„¶è¯­è¨€**ï¼š
```
åˆå§‹åŒ–ä¸€ä¸ªåä¸º "ç”µå•†ç³»ç»Ÿ" çš„é¡¹ç›®ï¼Œæè¿°ä¸º "åŸºäºå¾®æœåŠ¡æ¶æ„çš„ç”µå•†å¹³å°"
```

### 2. `create_steering_doc` - åˆ›å»ºæŒ‡å¯¼æ–‡æ¡£

**åŠŸèƒ½**ï¼šåˆ›å»ºé¡¹ç›®æŠ€æœ¯æŒ‡å¯¼æ–‡æ¡£

**å‚æ•°**ï¼š
- `docName` (string, å¿…éœ€): æ–‡æ¡£åç§°
- `content` (string, å¿…éœ€): æ–‡æ¡£å†…å®¹

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ create_steering_doc å·¥å…·ï¼Œå‚æ•°ï¼š
- docName: "æŠ€æœ¯æ¶æ„æŒ‡å¯¼"
- content: "ä½¿ç”¨ React + TypeScript å‰ç«¯ï¼ŒNode.js Express åç«¯ï¼ŒPostgreSQL æ•°æ®åº“"
```

### 3. `create_spec` - åˆ›å»ºè§„èŒƒæ–‡æ¡£

**åŠŸèƒ½**ï¼šåˆ›å»ºæ–°çš„è§„èŒƒæ–‡æ¡£

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `content` (string, å¿…éœ€): è§„èŒƒå†…å®¹

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
- content: "## éœ€æ±‚æè¿°\nç”¨æˆ·æ³¨å†ŒåŠŸèƒ½åŒ…æ‹¬é‚®ç®±éªŒè¯ã€å¯†ç å¼ºåº¦æ£€æŸ¥..."
```

### 4. `read_spec` - è¯»å–è§„èŒƒæ–‡æ¡£

**åŠŸèƒ½**ï¼šè¯»å–ç°æœ‰è§„èŒƒæ–‡æ¡£å†…å®¹

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ read_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
```

### 5. `update_spec` - æ›´æ–°è§„èŒƒæ–‡æ¡£

**åŠŸèƒ½**ï¼šæ›´æ–°ç°æœ‰è§„èŒƒæ–‡æ¡£

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `content` (string, å¿…éœ€): æ–°å†…å®¹

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ update_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
- content: "æ›´æ–°åçš„è§„èŒƒå†…å®¹..."
```

### 6. `list_specs` - åˆ—å‡ºæ‰€æœ‰è§„èŒƒ

**åŠŸèƒ½**ï¼šåˆ—å‡ºé¡¹ç›®ä¸­çš„æ‰€æœ‰è§„èŒƒæ–‡æ¡£

**å‚æ•°**ï¼šæ— 

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ list_specs å·¥å…·
```

### 7. `get_project_context` - è·å–é¡¹ç›®ä¸Šä¸‹æ–‡

**åŠŸèƒ½**ï¼šè·å–å®Œæ•´çš„é¡¹ç›®ä¸Šä¸‹æ–‡ä¿¡æ¯

**å‚æ•°**ï¼šæ— 

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ get_project_context å·¥å…·
```

### 8. `open_dashboard` - æ‰“å¼€ä»ªè¡¨æ¿

**åŠŸèƒ½**ï¼šå¯åŠ¨å¹¶æ‰“å¼€å®æ—¶ Web ä»ªè¡¨æ¿

**å‚æ•°**ï¼š
- `port` (number, å¯é€‰): ç«¯å£å·ï¼Œé»˜è®¤ 3000

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ open_dashboard å·¥å…·ï¼Œå‚æ•°ï¼š
- port: 3000
```

---

## Phase 2: å¢å¼ºåŠŸèƒ½å·¥å…·

### 9. `request_approval` - è¯·æ±‚æ‰¹å‡†

**åŠŸèƒ½**ï¼šä¸ºè§„èŒƒæ–‡æ¡£åˆ›å»ºæ‰¹å‡†è¯·æ±‚

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `approverEmail` (string, å¿…éœ€): æ‰¹å‡†è€…é‚®ç®±
- `message` (string, å¯é€‰): æ‰¹å‡†è¯·æ±‚æ¶ˆæ¯

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ request_approval å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
- approverEmail: "tech-lead@company.com"
- message: "è¯·å®¡æ ¸ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½è§„èŒƒ"
```

### 10. `approve_spec` - æ‰¹å‡†è§„èŒƒ

**åŠŸèƒ½**ï¼šæ‰¹å‡†å¾…å®¡æ ¸çš„è§„èŒƒæ–‡æ¡£

**å‚æ•°**ï¼š
- `approvalId` (string, å¿…éœ€): æ‰¹å‡†è¯·æ±‚ ID
- `decision` (string, å¿…éœ€): "approved" æˆ– "rejected"
- `comments` (string, å¯é€‰): æ‰¹å‡†æ„è§

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ approve_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- approvalId: "approval_20241213_001"
- decision: "approved"
- comments: "è§„èŒƒè¯¦ç»†ï¼ŒæŠ€æœ¯æ–¹æ¡ˆå¯è¡Œ"
```

### 11. `list_pending_approvals` - åˆ—å‡ºå¾…æ‰¹å‡†é¡¹

**åŠŸèƒ½**ï¼šåˆ—å‡ºæ‰€æœ‰å¾…æ‰¹å‡†çš„è§„èŒƒ

**å‚æ•°**ï¼šæ— 

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ list_pending_approvals å·¥å…·
```

### 12. `extract_tasks` - æå–ä»»åŠ¡

**åŠŸèƒ½**ï¼šä»è§„èŒƒæ–‡æ¡£ä¸­æå–å¼€å‘ä»»åŠ¡

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ extract_tasks å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
```

### 13. `update_task_status` - æ›´æ–°ä»»åŠ¡çŠ¶æ€

**åŠŸèƒ½**ï¼šæ›´æ–°ä»»åŠ¡å®ŒæˆçŠ¶æ€

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `taskId` (string, å¿…éœ€): ä»»åŠ¡ ID
- `status` (string, å¿…éœ€): "pending", "in-progress", "completed"

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ update_task_status å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
- taskId: "1.2"
- status: "completed"
```

### 14. `get_task_progress` - è·å–ä»»åŠ¡è¿›åº¦

**åŠŸèƒ½**ï¼šè·å–è§„èŒƒçš„ä»»åŠ¡å®Œæˆè¿›åº¦

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ get_task_progress å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
```

---

## Phase 3: ä¼ä¸šçº§ç‰¹æ€§å·¥å…·

### 15. `archive_completed_spec` - å½’æ¡£å·²å®Œæˆè§„èŒƒ

**åŠŸèƒ½**ï¼šå°†å·²å®Œæˆçš„è§„èŒƒç§»åŠ¨åˆ°å½’æ¡£åŒº

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `archiveNotes` (string, å¯é€‰): å½’æ¡£å¤‡æ³¨

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ archive_completed_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·æ³¨å†Œ"
- archiveNotes: "v1.0 æ­£å¼å‘å¸ƒï¼ŒåŠŸèƒ½å®Œæ•´"
```

### 16. `list_archived_specs` - åˆ—å‡ºå½’æ¡£è§„èŒƒ

**åŠŸèƒ½**ï¼šåˆ—å‡ºæ‰€æœ‰å·²å½’æ¡£çš„è§„èŒƒ

**å‚æ•°**ï¼šæ— 

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ list_archived_specs å·¥å…·
```

### 17. `get_workflow_metrics` - è·å–å·¥ä½œæµæŒ‡æ ‡

**åŠŸèƒ½**ï¼šè·å–è¯¦ç»†çš„å·¥ä½œæµæ€§èƒ½æŒ‡æ ‡

**å‚æ•°**ï¼šæ— 

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ get_workflow_metrics å·¥å…·
```

### 18. `generate_progress_report` - ç”Ÿæˆè¿›åº¦æŠ¥å‘Š

**åŠŸèƒ½**ï¼šç”Ÿæˆé¡¹ç›®è¿›åº¦çš„è¯¦ç»†æŠ¥å‘Š

**å‚æ•°**ï¼š
- `format` (string, å¯é€‰): "markdown" æˆ– "json"ï¼Œé»˜è®¤ "markdown"

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ generate_progress_report å·¥å…·ï¼Œå‚æ•°ï¼š
- format: "markdown"
```

### 19. `set_language` - è®¾ç½®è¯­è¨€

**åŠŸèƒ½**ï¼šè®¾ç½®ä»ªè¡¨æ¿ç•Œé¢è¯­è¨€

**å‚æ•°**ï¼š
- `language` (string, å¿…éœ€): è¯­è¨€ä»£ç 

**æ”¯æŒçš„è¯­è¨€ä»£ç **ï¼š
- `en` - English
- `zh` - ä¸­æ–‡
- `fr` - FranÃ§ais
- `de` - Deutsch
- `es` - EspaÃ±ol
- `it` - Italiano
- `ja` - æ—¥æœ¬èª
- `ko` - í•œêµ­ì–´
- `pt` - PortuguÃªs
- `ru` - Ğ ÑƒÑÑĞºĞ¸Ğ¹
- `ar` - Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ set_language å·¥å…·ï¼Œå‚æ•°ï¼š
- language: "zh"
```

---

## Phase 4: å¹¶è¡Œæ‰§è¡Œå·¥å…·

### 20. `analyze-parallel` - å¹¶è¡Œåˆ†æ

**åŠŸèƒ½**ï¼šåˆ†æä»»åŠ¡çš„å¹¶è¡Œæ‰§è¡Œæœºä¼š

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `mode` (string, å¯é€‰): åˆ†ææ¨¡å¼
  - `"conservative"` - ä¿å®ˆæ¨¡å¼ï¼Œåªåˆ†æç¡®å®šå®‰å…¨çš„å¹¶è¡Œä»»åŠ¡
  - `"balanced"` - å¹³è¡¡æ¨¡å¼ï¼Œè€ƒè™‘ä¸­ç­‰é£é™©çš„å¹¶è¡Œæœºä¼š
  - `"aggressive"` - æ¿€è¿›æ¨¡å¼ï¼Œæœ€å¤§åŒ–å¹¶è¡Œæœºä¼š

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ analyze-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·è®¤è¯"
- mode: "balanced"
```

### 21. `execute-parallel` - å¹¶è¡Œæ‰§è¡Œ

**åŠŸèƒ½**ï¼šåŸºäºåˆ†æç»“æœæ‰§è¡Œå¹¶è¡Œä»»åŠ¡

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `taskIds` (array, å¯é€‰): ç‰¹å®šä»»åŠ¡ ID åˆ—è¡¨
- `maxParallel` (number, å¯é€‰): æœ€å¤§å¹¶è¡Œæ•°ï¼Œé»˜è®¤ 3ï¼Œæœ€å¤§å€¼ 3

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·è®¤è¯"
- taskIds: ["1.1", "1.3", "2.1"]
- maxParallel: 2
```

### 22. `run-agent` - è¿è¡Œæ™ºèƒ½ä»£ç†

**åŠŸèƒ½**ï¼šæ‰§è¡Œç‰¹å®šçš„åˆ†æä»£ç†

**å‚æ•°**ï¼š
- `agentName` (string, å¿…éœ€): ä»£ç†åç§°
  - `"code-analyzer"` - ä»£ç åˆ†æä»£ç†
  - `"file-analyzer"` - æ–‡ä»¶åˆ†æä»£ç†
- `context` (object, å¯é€‰): ä»£ç†ä¸Šä¸‹æ–‡æ•°æ®
- `timeout` (number, å¯é€‰): è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ run-agent å·¥å…·ï¼Œå‚æ•°ï¼š
- agentName: "code-analyzer"
- context: {"files": ["src/auth.js", "src/user.js"]}
- timeout: 60000
```

### 23. `pm:issue-analyze` - é—®é¢˜åˆ†æï¼ˆCCPMé£æ ¼ï¼‰

**åŠŸèƒ½**ï¼šCCPM é£æ ¼çš„é—®é¢˜å¹¶è¡ŒåŒ–åˆ†æ

**å‚æ•°**ï¼š
- `issueId` (string, å¯é€‰): é—®é¢˜ ID
- `specName` (string, å¯é€‰): è§„èŒƒåç§°

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ pm:issue-analyze å·¥å…·ï¼Œå‚æ•°ï¼š
- issueId: "123"
- specName: "ç”¨æˆ·è®¤è¯"
```

### 24. `pm:issue-start` - å¼€å§‹å¹¶è¡Œå·¥ä½œ

**åŠŸèƒ½**ï¼šä½¿ç”¨ Git worktree å¼€å§‹å¹¶è¡Œå·¥ä½œ

**å‚æ•°**ï¼š
- `issueId` (string, å¿…éœ€): é—®é¢˜ ID
- `mode` (string, å¯é€‰): å·¥ä½œæ¨¡å¼
  - `"worktree"` - ä½¿ç”¨ Git worktreeï¼ˆæ¨èï¼‰
  - `"branch"` - ä½¿ç”¨åˆ†æ”¯æ¨¡å¼

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ pm:issue-start å·¥å…·ï¼Œå‚æ•°ï¼š
- issueId: "123"
- mode: "worktree"
```

### 25. `pm:context-optimize` - ä¸Šä¸‹æ–‡ä¼˜åŒ–

**åŠŸèƒ½**ï¼šä½¿ç”¨ä»£ç†å‹ç¼©ä¼˜åŒ–ä¸Šä¸‹æ–‡

**å‚æ•°**ï¼š
- `target` (string, å¯é€‰): ç›®æ ‡è·¯å¾„ï¼Œé»˜è®¤ "."
- `compressionRatio` (number, å¯é€‰): å‹ç¼©æ¯”ä¾‹ 0.1-0.9ï¼Œé»˜è®¤ 0.8

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ pm:context-optimize å·¥å…·ï¼Œå‚æ•°ï¼š
- target: "src/"
- compressionRatio: 0.8
```

### 26. `spec-analyze` - è§„èŒƒåˆ†æ

**åŠŸèƒ½**ï¼šå¢å¼ºçš„è§„èŒƒåˆ†æï¼ŒåŒ…å«å¹¶è¡Œå»ºè®®

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `includeParallel` (boolean, å¯é€‰): æ˜¯å¦åŒ…å«å¹¶è¡Œåˆ†æï¼Œé»˜è®¤ true

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ spec-analyze å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·è®¤è¯"
- includeParallel: true
```

### 27. `manage-tasks-parallel` - å¹¶è¡Œä»»åŠ¡ç®¡ç†

**åŠŸèƒ½**ï¼šæ”¯æŒå¹¶è¡Œæ‰§è¡Œçš„ä»»åŠ¡ç®¡ç†

**å‚æ•°**ï¼š
- `specName` (string, å¿…éœ€): è§„èŒƒåç§°
- `action` (string, å¿…éœ€): æ“ä½œç±»å‹
  - `"list"` - åˆ—å‡ºä»»åŠ¡
  - `"analyze"` - åˆ†æä»»åŠ¡
  - `"execute"` - æ‰§è¡Œä»»åŠ¡
- `parallelMode` (boolean, å¯é€‰): æ˜¯å¦å¯ç”¨å¹¶è¡Œæ¨¡å¼ï¼Œé»˜è®¤ false

**å‘½ä»¤ä½¿ç”¨**ï¼š
```
è°ƒç”¨ manage-tasks-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·è®¤è¯"
- action: "execute"
- parallelMode: true
```

---

## å®Œæ•´å¼€å‘åœºæ™¯å‘½ä»¤ç¤ºä¾‹

### åœºæ™¯ 1: æ–°é¡¹ç›®å¼€å‘æµç¨‹

```bash
# æ­¥éª¤ 1: é¡¹ç›®åˆå§‹åŒ–
è°ƒç”¨ init_project å·¥å…·ï¼Œå‚æ•°ï¼š
- projectName: "ç”µå•†ç³»ç»Ÿ"
- description: "å®Œæ•´çš„ç”µå•†å¹³å°"
- language: "zh"

# æ­¥éª¤ 2: å¯åŠ¨ä»ªè¡¨æ¿
è°ƒç”¨ open_dashboard å·¥å…·ï¼Œå‚æ•°ï¼š
- port: 3000

# æ­¥éª¤ 3: åˆ›å»ºæŠ€æœ¯æŒ‡å¯¼
è°ƒç”¨ create_steering_doc å·¥å…·ï¼Œå‚æ•°ï¼š
- docName: "æŠ€æœ¯æ¶æ„"
- content: "ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼ŒReactå‰ç«¯ï¼ŒNode.jsåç«¯"

# æ­¥éª¤ 4: åˆ›å»ºç”¨æˆ·æ¨¡å—è§„èŒƒ
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·ç®¡ç†"
- content: "åŒ…å«æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†çš„å®Œæ•´ç”¨æˆ·æ¨¡å—è§„èŒƒ"

# æ­¥éª¤ 5: æå–å¼€å‘ä»»åŠ¡
è°ƒç”¨ extract_tasks å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·ç®¡ç†"

# æ­¥éª¤ 6: åˆ†æå¹¶è¡Œæ‰§è¡Œæœºä¼š
è°ƒç”¨ analyze-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·ç®¡ç†"
- mode: "balanced"

# æ­¥éª¤ 7: å¼€å§‹å¹¶è¡Œå¼€å‘
è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·ç®¡ç†"
- maxParallel: 3

# æ­¥éª¤ 8: æ›´æ–°ä»»åŠ¡çŠ¶æ€
è°ƒç”¨ update_task_status å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·ç®¡ç†"
- taskId: "1.1"
- status: "completed"
```

### åœºæ™¯ 2: ä¼ä¸šçº§åä½œæµç¨‹

```bash
# æ­¥éª¤ 1: åˆ›å»ºéœ€è¦å®¡æ‰¹çš„è§„èŒƒ
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "æ”¯ä»˜ç³»ç»Ÿ"
- content: "æ”¯ä»˜ç³»ç»Ÿçš„è¯¦ç»†è§„èŒƒæ–‡æ¡£"

# æ­¥éª¤ 2: è¯·æ±‚æŠ€æœ¯è´Ÿè´£äººæ‰¹å‡†
è°ƒç”¨ request_approval å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "æ”¯ä»˜ç³»ç»Ÿ"
- approverEmail: "tech-lead@company.com"
- message: "è¯·å®¡æ ¸æ”¯ä»˜ç³»ç»Ÿè§„èŒƒ"

# æ­¥éª¤ 3: æŸ¥çœ‹å¾…æ‰¹å‡†åˆ—è¡¨
è°ƒç”¨ list_pending_approvals å·¥å…·

# æ­¥éª¤ 4: æ‰¹å‡†è§„èŒƒ
è°ƒç”¨ approve_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- approvalId: "payment-spec-001"
- decision: "approved"
- comments: "è§„èŒƒè¯¦ç»†ï¼Œå¯ä»¥å¼€å§‹å¼€å‘"

# æ­¥éª¤ 5: è®¾ç½®ä¸­æ–‡ç•Œé¢
è°ƒç”¨ set_language å·¥å…·ï¼Œå‚æ•°ï¼š
- language: "zh"

# æ­¥éª¤ 6: ç”Ÿæˆé¡¹ç›®æŠ¥å‘Š
è°ƒç”¨ generate_progress_report å·¥å…·ï¼Œå‚æ•°ï¼š
- format: "markdown"

# æ­¥éª¤ 7: å½’æ¡£å®Œæˆçš„è§„èŒƒ
è°ƒç”¨ archive_completed_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "æ”¯ä»˜ç³»ç»Ÿ"
- archiveNotes: "v1.0 æ­£å¼å‘å¸ƒ"
```

### åœºæ™¯ 3: ä»£ç è´¨é‡åˆ†æ

```bash
# æ­¥éª¤ 1: è¿è¡Œä»£ç åˆ†æä»£ç†
è°ƒç”¨ run-agent å·¥å…·ï¼Œå‚æ•°ï¼š
- agentName: "code-analyzer"
- context: {"files": ["src/auth.js", "src/payment.js"]}
- timeout: 60000

# æ­¥éª¤ 2: è¿è¡Œæ–‡ä»¶åˆ†æä»£ç†
è°ƒç”¨ run-agent å·¥å…·ï¼Œå‚æ•°ï¼š
- agentName: "file-analyzer"
- context: {"files": ["logs/application.log"]}

# æ­¥éª¤ 3: ä½¿ç”¨ CCPM é£æ ¼ä¼˜åŒ–
è°ƒç”¨ pm:context-optimize å·¥å…·ï¼Œå‚æ•°ï¼š
- target: "."
- compressionRatio: 0.8

# æ­¥éª¤ 4: åˆ†æç‰¹å®šé—®é¢˜
è°ƒç”¨ pm:issue-analyze å·¥å…·ï¼Œå‚æ•°ï¼š
- issueId: "456"
- specName: "ç”¨æˆ·è®¤è¯"

# æ­¥éª¤ 5: åˆ›å»ºå¹¶è¡Œå·¥ä½œç¯å¢ƒ
è°ƒç”¨ pm:issue-start å·¥å…·ï¼Œå‚æ•°ï¼š
- issueId: "456"
- mode: "worktree"
```

### åœºæ™¯ 4: å¤šè§„èŒƒå¹¶è¡Œå¼€å‘

```bash
# æ­¥éª¤ 1: åˆ›å»ºå¤šä¸ªç›¸å…³è§„èŒƒ
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "å‰ç«¯ç•Œé¢"
- content: "å‰ç«¯UIç»„ä»¶å’Œé¡µé¢è§„èŒƒ"

è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "åç«¯API"
- content: "REST APIæ¥å£è§„èŒƒ"

è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "æ•°æ®åº“è®¾è®¡"
- content: "æ•°æ®åº“è¡¨ç»“æ„å’Œå…³ç³»è®¾è®¡"

# æ­¥éª¤ 2: åˆ†ææ•´ä½“å¹¶è¡Œæœºä¼š
è°ƒç”¨ analyze-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "å‰ç«¯ç•Œé¢"
- mode: "aggressive"

è°ƒç”¨ analyze-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "åç«¯API"
- mode: "aggressive"

# æ­¥éª¤ 3: ä»¥å¹¶è¡Œæ¨¡å¼ç®¡ç†ä»»åŠ¡
è°ƒç”¨ manage-tasks-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "å‰ç«¯ç•Œé¢"
- action: "list"
- parallelMode: true

# æ­¥éª¤ 4: æ‰§è¡Œå¹¶è¡Œå¼€å‘
è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "å‰ç«¯ç•Œé¢"
- maxParallel: 2

è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "åç«¯API"
- maxParallel: 2

# æ­¥éª¤ 5: ç›‘æ§è¿›åº¦
è°ƒç”¨ get_workflow_metrics å·¥å…·

# æ­¥éª¤ 6: ç”Ÿæˆç»¼åˆæŠ¥å‘Š
è°ƒç”¨ generate_progress_report å·¥å…·ï¼Œå‚æ•°ï¼š
- format: "markdown"
```

---

## å·¥å…·ç»„åˆä½¿ç”¨æ¨¡å¼

### æ¨¡å¼ 1: å¿«é€Ÿå¼€å‘æµç¨‹

```bash
# åŸºç¡€ä¸‰æ­¥éª¤
1. è°ƒç”¨ init_project å·¥å…· -> é¡¹ç›®åˆå§‹åŒ–
2. è°ƒç”¨ create_spec å·¥å…· -> åˆ›å»ºè§„èŒƒ
3. è°ƒç”¨ extract_tasks å·¥å…· -> æå–ä»»åŠ¡

# è´¨é‡ä¿è¯
4. è°ƒç”¨ run-agent å·¥å…· (code-analyzer) -> ä»£ç åˆ†æ
5. è°ƒç”¨ update_task_status å·¥å…· -> æ›´æ–°çŠ¶æ€
```

### æ¨¡å¼ 2: ä¼ä¸šçº§å®Œæ•´æµç¨‹

```bash
# å®Œæ•´ä¹æ­¥éª¤
1. è°ƒç”¨ init_project å·¥å…·
2. è°ƒç”¨ open_dashboard å·¥å…·
3. è°ƒç”¨ create_spec å·¥å…·
4. è°ƒç”¨ request_approval å·¥å…·
5. è°ƒç”¨ approve_spec å·¥å…·
6. è°ƒç”¨ extract_tasks å·¥å…·
7. è°ƒç”¨ execute-parallel å·¥å…·
8. è°ƒç”¨ generate_progress_report å·¥å…·
9. è°ƒç”¨ archive_completed_spec å·¥å…·
```

### æ¨¡å¼ 3: å¹¶è¡Œå¼€å‘ä¼˜åŒ–æµç¨‹

```bash
# å¹¶è¡Œä¼˜åŒ–äº”æ­¥éª¤
1. è°ƒç”¨ spec-analyze å·¥å…· (includeParallel: true)
2. è°ƒç”¨ analyze-parallel å·¥å…· (mode: "balanced")
3. è°ƒç”¨ pm:context-optimize å·¥å…·
4. è°ƒç”¨ execute-parallel å·¥å…·
5. è°ƒç”¨ run-agent å·¥å…· (å®šæœŸè´¨é‡æ£€æŸ¥)
```

---

## å‚æ•°ç±»å‹è¯´æ˜

### å­—ç¬¦ä¸²å‚æ•° (string)
- ç”¨å¼•å·åŒ…å›´ï¼š`"ç”¨æˆ·è®¤è¯"`
- å¯ä»¥åŒ…å«ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—
- è·¯å¾„æ ¼å¼ï¼š`"src/components/"`

### æ•°å­—å‚æ•° (number)
- ç›´æ¥å†™æ•°å­—ï¼š`3000`
- ç«¯å£å·ï¼š`3000-65535`
- è¶…æ—¶æ—¶é—´ï¼šå•ä½æ¯«ç§’ï¼Œå¦‚ `30000` (30ç§’)

### å¸ƒå°”å‚æ•° (boolean)
- çœŸå€¼ï¼š`true`
- å‡å€¼ï¼š`false`

### æ•°ç»„å‚æ•° (array)
- æ ¼å¼ï¼š`["item1", "item2", "item3"]`
- ä»»åŠ¡IDåˆ—è¡¨ï¼š`["1.1", "1.2", "2.1"]`
- æ–‡ä»¶åˆ—è¡¨ï¼š`["src/auth.js", "src/user.js"]`

### å¯¹è±¡å‚æ•° (object)
- æ ¼å¼ï¼š`{"key": "value", "files": ["file1.js"]}`
- åµŒå¥—ç»“æ„ï¼š`{"context": {"files": ["auth.js"]}}`

---

## é”™è¯¯å¤„ç†å’Œè°ƒè¯•

### å¸¸è§é”™è¯¯ç±»å‹

#### 1. å‚æ•°é”™è¯¯
```bash
# é”™è¯¯ç¤ºä¾‹
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: ""  # ç©ºå­—ç¬¦ä¸²é”™è¯¯

# æ­£ç¡®ç¤ºä¾‹
è°ƒç”¨ create_spec å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç”¨æˆ·è®¤è¯"
- content: "è¯¦ç»†çš„è§„èŒƒå†…å®¹"
```

#### 2. å·¥å…·åç§°é”™è¯¯
```bash
# é”™è¯¯ç¤ºä¾‹
è°ƒç”¨ create-spec å·¥å…·  # é”™è¯¯çš„å·¥å…·å

# æ­£ç¡®ç¤ºä¾‹
è°ƒç”¨ create_spec å·¥å…·  # æ­£ç¡®çš„å·¥å…·å
```

#### 3. å‚æ•°ç±»å‹é”™è¯¯
```bash
# é”™è¯¯ç¤ºä¾‹
è°ƒç”¨ open_dashboard å·¥å…·ï¼Œå‚æ•°ï¼š
- port: "3000"  # å­—ç¬¦ä¸²ç±»å‹é”™è¯¯

# æ­£ç¡®ç¤ºä¾‹
è°ƒç”¨ open_dashboard å·¥å…·ï¼Œå‚æ•°ï¼š
- port: 3000  # æ•°å­—ç±»å‹æ­£ç¡®
```

### è°ƒè¯•æŠ€å·§

#### 1. é€æ­¥æ‰§è¡Œ
```bash
# å…ˆæµ‹è¯•åŸºç¡€å·¥å…·
è°ƒç”¨ get_project_context å·¥å…·
è°ƒç”¨ list_specs å·¥å…·

# å†æ‰§è¡Œå¤æ‚æ“ä½œ
è°ƒç”¨ analyze-parallel å·¥å…·
```

#### 2. æ£€æŸ¥çŠ¶æ€
```bash
# æ£€æŸ¥é¡¹ç›®çŠ¶æ€
è°ƒç”¨ get_project_context å·¥å…·

# æ£€æŸ¥ä»»åŠ¡è¿›åº¦
è°ƒç”¨ get_task_progress å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ç›®æ ‡è§„èŒƒåç§°"
```

#### 3. é‡ç½®å’Œæ¸…ç†
```bash
# è·å–å·¥ä½œæµæŒ‡æ ‡ï¼ˆæ£€æŸ¥ç³»ç»ŸçŠ¶æ€ï¼‰
è°ƒç”¨ get_workflow_metrics å·¥å…·

# é‡æ–°å¯åŠ¨ä»ªè¡¨æ¿
è°ƒç”¨ open_dashboard å·¥å…·ï¼Œå‚æ•°ï¼š
- port: 3001  # ä½¿ç”¨ä¸åŒç«¯å£
```

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´
```bash
# å¤§å‹é¡¹ç›®åˆ†æ
è°ƒç”¨ run-agent å·¥å…·ï¼Œå‚æ•°ï¼š
- agentName: "code-analyzer"
- timeout: 120000  # 2åˆ†é’Ÿ

# å¿«é€Ÿåˆ†æ
è°ƒç”¨ run-agent å·¥å…·ï¼Œå‚æ•°ï¼š
- agentName: "file-analyzer"
- timeout: 30000   # 30ç§’
```

### 2. æ§åˆ¶å¹¶è¡Œæ•°é‡
```bash
# èµ„æºæœ‰é™æ—¶
è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "å¤§å‹è§„èŒƒ"
- maxParallel: 1

# èµ„æºå……è¶³æ—¶
è°ƒç”¨ execute-parallel å·¥å…·ï¼Œå‚æ•°ï¼š
- specName: "ä¸­å‹è§„èŒƒ"
- maxParallel: 3
```

### 3. ä½¿ç”¨å‹ç¼©ä¼˜åŒ–
```bash
# é«˜å‹ç¼©æ¯”ï¼ˆèŠ‚çœå†…å­˜ï¼‰
è°ƒç”¨ pm:context-optimize å·¥å…·ï¼Œå‚æ•°ï¼š
- target: "."
- compressionRatio: 0.9

# ä½å‹ç¼©æ¯”ï¼ˆä¿ç•™æ›´å¤šä¿¡æ¯ï¼‰
è°ƒç”¨ pm:context-optimize å·¥å…·ï¼Œå‚æ•°ï¼š
- target: "src/"
- compressionRatio: 0.6
```

---

## æ€»ç»“

### ğŸ¯ å…³é”®è¦ç‚¹

1. **27ä¸ªå·¥å…·** è¦†ç›–å®Œæ•´å¼€å‘ç”Ÿå‘½å‘¨æœŸ
2. **å››ä¸ªé˜¶æ®µ** ä»åŸºç¡€åˆ°é«˜çº§åŠŸèƒ½æ¸è¿›
3. **ç²¾ç¡®æ§åˆ¶** é€šè¿‡å‚æ•°ç²¾ç¡®æ§åˆ¶å·¥å…·è¡Œä¸º
4. **é”™è¯¯å¤„ç†** å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œè°ƒè¯•æŒ‡å¯¼

### âœ… ä½¿ç”¨å»ºè®®

1. **æ–°æ‰‹ç”¨æˆ·**ï¼šä» Phase 1 å·¥å…·å¼€å§‹ï¼Œé€æ­¥å­¦ä¹ 
2. **é«˜çº§ç”¨æˆ·**ï¼šç›´æ¥ä½¿ç”¨ Phase 4 å¹¶è¡Œæ‰§è¡Œå·¥å…·
3. **è°ƒè¯•åœºæ™¯**ï¼šä½¿ç”¨ `get_project_context` ç­‰çŠ¶æ€æ£€æŸ¥å·¥å…·
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†è®¾ç½®è¶…æ—¶å’Œå¹¶è¡Œå‚æ•°

### ğŸ“š è¿›ä¸€æ­¥å­¦ä¹ 

- æŸ¥çœ‹ `USER_MANUAL.md` äº†è§£è‡ªç„¶è¯­è¨€ä½¿ç”¨æ–¹å¼
- æŸ¥çœ‹ `LOCAL_DEVELOPMENT_GUIDE.md` äº†è§£å®Œæ•´å¼€å‘æµç¨‹
- ç»“åˆä¸¤ç§æ–¹å¼ä½¿ç”¨ï¼Œè·å¾—æœ€ä½³å¼€å‘ä½“éªŒ